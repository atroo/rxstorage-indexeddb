{"version":3,"sources":["../../src/rx-browser-storage.ts"],"names":["RxBrowserStorage","name","hash","data","Promise","resolve","createStorageInstance","params","console","log","createKeyObjectStorageInstance","collectionName","getRxSBrowserIdbStorage","databaseSettings","storage"],"mappings":";;;;;;;;;;;;;;AAAA;;AAKA;;AACA;;IAMaA,gB;;SAGJC,I,GAAO,uB;;;;;SAEdC,I,GAAA,cAAKC,IAAL,EAAoD;AAClD,WAAOC,OAAO,CAACC,OAAR,CAAgB,gBAAKF,IAAL,CAAhB,CAAP;AACD,G;;SAEKG,qB;+GAAN,iBACEC,MADF;AAAA;AAAA;AAAA;AAAA;AAGEC,cAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,MAAxB;AAHF,+CAIS,4DAA6BA,MAA7B,CAJT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;;;SAOaG,8B;wHAAb,kBACEH,MADF;AAAA;AAAA;AAAA;AAAA;AAGEA,cAAAA,MAAM,CAACI,cAAP,GAAwBJ,MAAM,CAACI,cAAP,GAAwB,aAAhD;AACAH,cAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,MAAvB;AAJF,gDAKS,8EAAsCA,MAAtC,CALT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;;;;;;;;AASK,SAASK,uBAAT,GAEL;AAAA,MADAC,gBACA,uEAD2C,EAC3C;AACA,MAAMC,OAAO,GAAG,IAAId,gBAAJ,EAAhB;AACA,SAAOc,OAAP;AACD","sourcesContent":["import { hash, RxStorage } from \"rxdb\";\r\nimport {\r\n  RxKeyObjectStorageInstanceCreationParams,\r\n  RxStorageInstanceCreationParams,\r\n} from \"rxdb/dist/types/types/rx-storage\";\r\nimport { createBrowserKeyObjectStorageInstance } from \"./rx-browser-key-object-storage-instance\";\r\nimport { createBrowserStorageInstance } from \"./rx-browser-storage-instance\";\r\nimport {\r\n  BrowserStorageInternals,\r\n  BrowserStorageSettings,\r\n} from \"./types/browser-storage\";\r\n\r\nexport class RxBrowserStorage\r\n  implements RxStorage<BrowserStorageInternals, BrowserStorageSettings>\r\n{\r\n  public name = \"atroo-browser-storage\";\r\n\r\n  hash(data: Buffer | Blob | string): Promise<string> {\r\n    return Promise.resolve(hash(data));\r\n  }\r\n\r\n  async createStorageInstance<RxDocType>(\r\n    params: RxStorageInstanceCreationParams<RxDocType, BrowserStorageSettings>\r\n  ) {\r\n    console.log(\"PARAMS: \", params);\r\n    return createBrowserStorageInstance(params);\r\n  }\r\n\r\n  public async createKeyObjectStorageInstance(\r\n    params: RxKeyObjectStorageInstanceCreationParams<BrowserStorageSettings>\r\n  ) {\r\n    params.collectionName = params.collectionName + \"-key-object\";\r\n    console.log(\"PARAMS1\", params);\r\n    return createBrowserKeyObjectStorageInstance(params);\r\n  }\r\n}\r\n\r\nexport function getRxSBrowserIdbStorage(\r\n  databaseSettings: BrowserStorageSettings = {}\r\n) {\r\n  const storage = new RxBrowserStorage();\r\n  return storage;\r\n}\r\n"],"file":"rx-browser-storage.js"}